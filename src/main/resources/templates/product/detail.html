<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/base}">

	  <head>
	      <!-- ⚠️ 임시 우회 방식 -->
	      <link rel="stylesheet" th:href="@{/css/product/detail.css}">
	  </head>

<!-- ===============================
     Page Content
=============================== -->
<div layout:fragment="content">

    <main class="container-content">

        <!-- 상세페이지 2컬럼 레이아웃 -->
        <div class="product-detail-grid">

            <!-- 왼쪽: 상품 이미지 -->
            <div class="product-detail-media">
				
				<div class="product-image-viewer">
					
					<div class="product-image-main">
						<img th:if="${#lists.size(product.imageUrls) > 0}"
						     th:src="${product.imageUrls[0]}"
						     alt="상품 이미지"/>

						<img th:if="${#lists.isEmpty(product.imageUrls)}"
						     src="/images/no-image.png"
						     alt="기본 이미지"/>

                   </div>
				   
				   <!-- (추후용) 썸네일 영역 -->
				           <!--
				           <div class="product-image-thumbs">
				               <img th:each="img : ${product.imageUrls}"
				                    th:src="${img}"
				                    class="thumb">
				           </div>
					   <img th:if="${product != null and #lists.size(product.imageUrls) > 0}"
					                th:src="${product.imageUrls[0]}"
					                alt="상품 이미지">

					           <img th:if="${product == null or #lists.isEmpty(product.imageUrls)}"
					                src="/images/no-image.png"
					                alt="기본 이미지">				           -->
					</div>

          </div>
		  
            <!-- 오른쪽: 상품 정보 -->
            <div class="product-detail-info">
				
				<!-- 상품 헤더 카드 -->
				    <div class="product-header-card">

                <!-- 상품명 -->
                <h1 class="product-title"
                     th:text="${product.productName}">
                    상품명
                </h1>

                <!-- 가격 -->
                <div class="product-price"
                     th:text="${product.priceDisplay}">
                    120,000원
                </div>

                <!-- 등록 시간 -->
                <div class="product-time"
                     th:text="${product.createdAtDisplay}">
                    2시간 전
                </div>
				
			</div>

			<!-- 판매자 정보 -->
			<div class="info-card">

			    <div class="seller-card">
			        <div class="seller-info">

			            <div class="seller-profile">
			                <span class="material-symbols-outlined">person</span>
			                <span class="seller-temp"
			                      th:text="${product.sellerTemperature} + '°'">
			                    36.5°
			                </span>
			            </div>

			            <div class="seller-text">
			                <div class="seller-name"
			                     th:text="${product.sellerNickname}">
			                    판매자닉네임
			                </div>
			                <div class="seller-region"
			                     th:text="${product.sellerRegion}">
			                    서울 강남구
			                </div>
			            </div>

			        </div>
			    </div>

			</div> <!-- ✅ info-card 닫힘 -->

                <!-- 상태 / 통계 -->
                <div class="product-meta">

                    <span class="badge"
                          th:text="${product.conditionLabel}">
                        사용감 적음
                    </span>

                    <span class="meta-item">
                        <span class="material-symbols-outlined">favorite</span>
                        <span id="likeCount"
                              th:text="${product.likeCount}">
                            24
                        </span>
                    </span>

                    <span class="meta-item">
                        <span class="material-symbols-outlined">visibility</span>
                        <span th:text="${product.viewCount}">342</span>
                    </span>

                    <span class="meta-item">
                        <span class="material-symbols-outlined">chat_bubble</span>
                        <span th:text="${product.chatCount}">5</span>
                    </span>

                </div>

                <!-- 상품 설명 -->
				<div class="info-card">

				    <h3 class="info-card-title">
				        상품 정보
				    </h3>

				    <div class="product-description"
				         th:utext="${product.description}">
				        상품 설명
				    </div>

				</div>

                <!-- 하단 버튼 -->
				<div class="action-card">

				    <button type="button"
				            class="product-card__like-btn"
				            th:data-product-id="${product.productId}"
				            aria-label="찜하기">

				        <span class="material-symbols-outlined"
				              th:classappend="${product.liked} ? ' filled' : ''">
				            favorite
				        </span>

				    </button>

                    <button class="btn btn-primary">
                        채팅하기
                    </button>

                    <button class="btn btn-dark">
                        바로구매
                    </button>

                </div>

            </div>
        </div>

    </main>
</div>

<!-- ===============================
     Page JS
=============================== -->
<th:block th:fragment="pageJs">
    <script th:src="@{/js/product/detail.js}"></script>
</th:block>

</html>
