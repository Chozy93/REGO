<th:block th:fragment="header"  th:with="isLogin=${isLogin} ?: false, isAdmin=${isAdmin} ?: false">

<header class="site-header">

  <!-- =====================
       Util Bar (로그인/마이페이지)
       ===================== -->
  <div class="header-util">
    <div class="container util-inner">
      <!-- 비로그인 -->
      <th:block th:if="${isLogin == false}">
        <a href="/login" class="util-link">로그인</a>
        <span class="util-divider"></span>
        <a href="/signup" class="util-link">회원가입</a>
      </th:block>

      <!-- 로그인 -->
      <th:block th:if="${isLogin == true}">
		
	  <!-- 관리자 로그인 (role = admin) -->
		<a th:if="${isAdmin == true}" href="/admin/dashboard" class="util-link">관리자 페이지</a>
		
	  <!-- 관리자 로그인 (role = admin) -->
		<a th:unless="${isAdmin == true}" href="/mypage" class="util-link">마이페이지</a>
	
	  <!-- 로그인 = true 공통 -->
		<span class="util-divider"></span>
		<a href="/logout" class="util-link">로그아웃</a>
      </th:block>
    </div>
  </div>

  <!-- =====================
       Main Header
       ===================== -->
  <div class="header-main">
    <div class="header-inner">

    

      <!-- Search + Keywords -->
      <div class="header-search-wrap">
		<div class="search-row">
			<!-- Logo -->
			    <h1 class="logo">
			      <a href="/" class="logo-link">
			        <span class="logo-icon">♻️</span>
			        <span class="logo-text">RE:GO</span>
			      </a>
			    </h1>
        <div class="header-search">
          <input type="text" placeholder="물품이나 동네를 검색해보세요">
        </div>
		<!-- 지역 -->
		      <button class="location-btn">
		        <span class="material-symbols-outlined">location_on</span>
		        <span class="label">지역</span>
		      </button>
			  <!-- Actions -->
			    <div class="header-right">


			      <!-- 채팅 (상태 아이템, 버튼 아님) / 로그인 했을때만 보임-->
			      <a th:if="${isLogin}" href="/chat" class="chat-status">
			        <span class="material-symbols-outlined chat-icon">
			          chat_bubble_outline
			        </span>

			        <!-- 알림 뱃지 -->
			        <span class="chat-badge"></span>

			        <span class="chat-label">채팅</span>
			      </a>

			      <!-- 구분선 -->
			      <span th:if="${isLogin and !isAdmin}" class="header-divider"></span>

			      <!-- 판매하기 -->
				  <!--관리자 계정이거나 비로그인 상태인 경우 판매하기 버튼 숨기기 (일반 회원만 보임)-->
			      <a th:if="${isLogin and !isAdmin}" href="/product/write" class="btn btn-primary sell-btn">
			        <span class="material-symbols-outlined">add</span>
			        판매하기
			      </a>

			    </div>
		</div>
        <div class="hot-keywords keyword-row">
          <span class="hot-label">인기</span>
          <a href="#">자전거</a>
          <a href="#">아이패드</a>
          <a href="#">의자</a>
          <a href="#">스타벅스</a>
          <a href="#">냉장고</a>
        </div>
      </div>
	 
   
    </div>
  </div>

  <!-- =====================
       Category Bar
       ===================== -->
  <div class="header-category">
    <div class="container">
      <button class="category-btn">
        ☰ 카테고리
      </button>
    </div>
  </div>

</header>

</th:block>
